= simple_form_for [:admin, destination] do |f|
  = f.error_notification
  .row
    .col-sm-12
      = f.input :name, label: false, input_html: {class: 'form-control-lg'}


      %h6
        = request.base_url + '/destination/'
        %span.d-inline-block= f.input :slug, label: false, input_html: {class: 'form-control-sm'}, wrapper_html: {class: 'mb-0'}
        = link_to 'go', @destination, class: 'btn btn-secondary btn-sm'

      %hr

      .row
        .col-sm-8
          = f.input :city
        .col-sm-4
          = f.input :state

      %hr

      - @destination.photos.each do |photo|
        = image_tag photo.image.thumb, data: {image_id: photo.id}

      %br
      %br
      %button.btn.btn-primary{'data-target' => '#destinationImageModal', 'data-toggle' => 'modal', :type => 'button'}
        Add images
      %br
      %br
      %br




      #destinationImageModal.modal.fade{'aria-hidden' => 'true', 'aria-labelledby' => 'destinationImageModalLabel', role: 'dialog', tabindex: '-1'}
        .modal-dialog{role: 'document'}
          .modal-content
            .modal-header
              %h5#destinationImageModalLabel.modal-title Modal title
              %button.close{'aria-label' => 'Close', 'data-dismiss' => 'modal', type: 'button'}
                %span{'aria-hidden' => 'true'} &times;
            .modal-body
              = f.association :photos, as: :check_boxes
            .modal-footer
              %button.btn.btn-secondary{'data-dismiss' => 'modal', type: 'button'} Close
              %button.btn.btn-primary{type: 'button'} Save changes



      = f.trix_editor :about, class: 'form-control'

      %hr

      = f.input :excerpt, input_html: {maxlength: 120}

      %h3 Attractions
      - if destination.attractions.present?
        %ul
          - destination.attractions.each do |attraction|
            %li= attraction.name
      - else
        Add some attractions!

      %hr

      = f.button :submit, class: 'btn-primary'
